<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Silent Road Character Creator</title>
    <style>
        body {
            font-family: 'Crimson Text', serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #1a1a1a;
            color: #c0c0c0;
        }
        header {
            background-image: url('images/header.png');
            background-size: cover;
            background-position: right -150px center;
            height: 235px; /* Adjust based on your image height */
            text-align: center;
            position: relative;
        }
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1rem;
            background: rgba(20, 20, 25, 0.95);
            border: 1px solid #3a3a3a;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        label {
            display: block;
            font-weight: bold;
        }
        input, select, textarea {
            width: 90%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            margin-right: 10%;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
            textarea.standard-margin {
                width: 90%;
                margin-right: 10%;
                padding: 15px;
            }
            textarea.tall-margin {
                width: 90%;
                height: 120px;
                margin-right: 10%;
                padding: 15px;
                line-height: 1.5;
                resize: vertical;
                font-family: inherit;
            }
        button {
            display: block;
            background: linear-gradient(to bottom, #a67c00, #805e00);
            color: #fff;
            border: 1px solid #a67c00;
            padding: 0.7rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 1rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        button:hover {
            background: #0056b3;
        }
        .section-title {
            margin-top: 6rem;
            border-bottom: 2px solid #343a40;
            padding-bottom: 0.5rem;
            font-size: 1.25rem;
        }
        .image-container {
            display: flex;
            gap: 20px;
            justify-content: space-between;
            margin-top: 1rem;
        }
        .image-wrapper {
            flex: 1;
        }
        .image-wrapper img {
            width: 100%;
            max-height: 300px;
            object-fit: contain;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .image-wrapper img:hover {
            transform: scale(1.05);
        }
        .fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            cursor: pointer;
        }
        .fullscreen img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        .subsection-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 1.5rem;
            color: #343a40;
        }
        .subsection-break {
            border-top: 1px solid #b8bcc1;
            margin: 1rem 0;
            width: 50%;
        }
        #skills {
            margin-bottom: 3rem;
        }
        .path-description {
            background-color: #f5f5f5;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }
        .path-description h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .path-description h4 {
            color: #34495e;
        }
        .path-description ul {
            list-style-type: none;
            padding-left: 0;
        }
        .path-description li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }
        .path-description li:before {
            content: "•";
            position: absolute;
            left: 0;
        }
        .description-box {
            background-color: #f5f5f5;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .description-box h3 {
            margin-top: 0;
            color: #2c3e50;
            font-size: 1.2rem;
        }
        .description-box h4 {
            color: #34495e;
            font-size: 1.1rem;
        }
        .description-box p {
            color: #444;
            line-height: 1.6;
        }
        textarea {
            background-color: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            padding: 1rem;
            font-family: inherit;
            color: #2c3e50;
            line-height: 1.6;
            transition: border-color 0.3s ease;
        }
        textarea:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
        }
        select {
            background-color: #f5f5f5;
            border: 1px solid #e0e0e0;
            padding: 0.7rem;
            border-radius: 4px;
            color: #2c3e50;
            transition: border-color 0.3s ease;
        }
        select:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
        }
        body {
            font-family: 'Crimson Text', serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background-color: #1a1a1a;
            color: #c0c0c0;
            background-image: url('images/bg.png');
            background-position: center top;
            background-size: 1024px auto;
            background-repeat: repeat-y;
        }
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('https://i.imgur.com/ABC456.png'); /* Replace with eldritch symbol */
            opacity: 0.1;
            pointer-events: none;
        }
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1rem;
            background: rgba(20, 20, 25, 0.95);
            border: 4px solid #4a1751;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            position: relative;
        }
        .section-title {
            margin-top: 6rem;
            border-bottom: 2px solid #a67c00;
            padding-bottom: 0.5rem;
            font-size: 1.65rem;
            color: #a67c00;
            text-shadow: 0 0 5px rgba(166, 124, 0, 0.3);
            padding-left: 20px;
        }
        .section-title.character::before {
            content: '';
            position: absolute;
            left: 780px;
            top: 110px;
            width: 120px;
            height: 120px;
            background-image: url('images/char.png');
            background-size: contain;
            transform: translateY(-50%);
        }
        .section-title.background::before {
            content: '';
            position: absolute;
            left: 780px;
            top: 530px;
            width: 120px;
            height: 120px;
            background-image: url('images/info.png');
            background-size: contain;
            transform: translateY(-50%);
        }
        .section-title.skills::before {
            content: '';
            position: absolute;
            left: 780px;
            top: 1810px;
            width: 120px;
            height: 120px;
            background-image: url('images/skill.png');
            background-size: contain;
            transform: translateY(-50%);
        }
        .section-title.equipment::before {
            content: '';
            position: absolute;
            left: 780px;
            top: 3490px;
            width: 120px;
            height: 120px;
            background-image: url('images/arm.png');
            background-size: contain;
            transform: translateY(-50%);
        }
        .section-title.notes::before {
            content: '';
            position: absolute;
            left: 780px;
            top: 3900px;
            width: 120px;
            height: 120px;
            background-image: url('images/shroud.png');
            background-size: contain;
            transform: translateY(-50%);
        }
        input, select, textarea {
            width: 90%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            margin-right: 10%;
            background-color: #2a2a2a;
            border: 1px solid #3a3a3a;
            color: #c0c0c0;
            border-radius: 4px;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #a67c00;
            box-shadow: 0 0 5px rgba(166, 124, 0, 0.3);
        }
        .description-box {
            background-color: #2a2a2a;
            border: 1px solid #3a3a3a;
            position: relative;
            overflow: hidden;
        }
        button {
            background: linear-gradient(to bottom, #a67c00, #805e00);
            border: 1px solid #a67c00;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }
        button:hover {
            background: linear-gradient(to bottom, #c19200, #a67c00);
            box-shadow: 0 0 10px rgba(166, 124, 0, 0.5);
        }
        .container::before {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background-image: url('images/angle.png');
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 1;
            top: 0;
            left: 0;
        }
        .container::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background-image: url('images/angleb.png');
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 1;
            bottom: 0;
            right: -20px;
    }
        .description-box, 
        .path-description {
            background-color: rgba(20, 20, 25, 0.95);
            border: 2px solid #463f3a;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            color: #bcb8b1;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        .description-box h3,
        .path-description h3 {
            color: #a67c00;
            margin-top: 0;
        }
        .description-box h4,
        .path-description h4 {
            color: #8a817c;
        }
        .description-box p,
        .path-description p {
            color: #bcb8b1;
            line-height: 1.6;
        }
        .description-box ul,
        .path-description ul {
            color: #bcb8b1;
        }
        .wrapper {
            position: relative;
            width: 100%;
            height: 100%;
        }
        .border-left {
            content: '';
            position: fixed;
            width: 170px;
            height: 100vh;
            background-image: url('images/border.png');
            background-size: contain;
            background-repeat: repeat-y;
            left: 0px;
            top: 0;
            z-index: 1000;
        }
        .border-right {
            content: '';
            position: fixed;
            width: 170px;
            height: 100vh;
            background-image: url('images/borderr.png');
            background-size: contain;
            background-repeat: repeat-y;
            right: -48px;
            top: 0;
            z-index: 1000;
        }
        @media screen and (max-width: 1200px) {
            .container {
                max-width: 95%;
                padding: 0px;
            }

            header {
                height: 200px;
                background-size: contain;
                background-repeat: no-repeat;
                background-position: 0px center;
            }

            .section-title.character::before,
            .section-title.background::before,
            .section-title.skills::before,
            .section-title.equipment::before,
            .section-title.notes::before {
                display: none;
            }

            textarea.standard-margin,
            textarea.tall-margin {
                width: 95%;
                margin-right: 5%;
            }
        }

        @media screen and (max-width: 768px) {
            .border-left, .border-right {
                display: none;
            }
            .container { 
                max-width: 100%; 
                margin: 0; 
                padding: 15px; 
                border-radius: 0; 
            }
            input, select, textarea {
                width: 80%;
                margin-right: 0;
            }

            textarea.standard-margin,
            textarea.tall-margin {
                width: 90%;
                margin-right: 0;
                padding: 10px;
            }

            .section-title {
                font-size: 1.4rem;
            }

            header {
                height: 150px;
                background-position: 0px center;
                width: 100%;
            }
        }

        @media screen and (max-width: 768px) {
            html, body {
                max-width: 100%;
                overflow-x: hidden;
            }

        @media screen and (max-width: 480px) {
            .container {
                padding: 10px;
            }

            header {
                height: 100px;
                background-position: 0px center;
                width: 100%;
            }

            textarea.standard-margin,
            textarea.tall-margin {
                width: 90%;
                margin-right: 0;
                padding: 8px;
            }
        }
    </style>
    <script src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js"></script> 
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
</head>
<body>
    <header>
    </header>
    <div class="border-left"></div>
    <div class="border-right"></div>
    <div class="wrapper"> 
        <div class="container">
        <form id="characterForm">
            <h2 class="section-title character">Character Details</h2>
            <div class="form-group">
                <label for="name">Character Name:</label>
                <input type="text" id="name" placeholder="Enter your character's name" required>
            </div>
            <div class="form-group">
                <label for="age">Age:</label>
                <input type="number" id="age" placeholder="Enter your character's age" required>
            </div>
            <div class="form-group">
                <label for="rank">Rank:</label>
                <select id="rank" required>
                    <option value="5">5 (Starting Rank)</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                </select>
            </div>

            <h2 class="section-title background">Solemn Burdens</h2>
            <div class="form-group">
            <div class="subsection-title">Raison d'être</div>
            <div class="form-group">
            <select id="raisonSelect" onchange="updateNarrativePrompt()" required>
                <option value="" disabled selected>Choose your Raison d'être</option>
                <option value="defender">Defender - Driven by the desire to protect the unaware populace from the Rust-Hued Gloom.</option>
                <option value="seeker">Seeker - Fascinated by the enigmatic nature of the Gloom, driven to uncover its mysteries.</option>
                <option value="harmonizer">Harmonizer - Embracing your uniqueness, proving those without Hue are not dangerous.</option>
                <option value="avenger">Avenger - Challenging biases and protecting those treated poorly due to immutable characteristics.</option>
                <option value="survivor">Survivor - Driven by a personal tragedy, you confront the Gloom to prevent further suffering.</option>
                <option value="champion">Champion - Ensuring the Gloom's influence remains balanced with the rest of Pyresh.</option>
            </select>
            <div class="form-group">
                <textarea class="tall-margin" id="narrativePrompt" placeholder="Your selected narrative prompt will appear here. Please answer the prompt here."></textarea>
            <hr class="subsection-break">
            </div>
            </div>
            
            <div class="subsection-title">Attachments</div>
            <div class="form-group">
                <select id="individual" required>
                    <option value="" disabled selected>Select an Individual</option>
                    <option value="sibling">1. Sibling or Parent</option>
                    <option value="confidant">2. Trusted Confidant</option>
                    <option value="adversary">3. Ruthless Adversary</option>
                    <option value="lover">4. Lover or Spouse</option>
                    <option value="mentor">5. Respected Mentor</option>
                    <option value="friend">6. Childhood Friend</option>
                    <option value="pet">7. Loyal Pet</option>
                    <option value="stranger">8. Mysterious Stranger</option>
                    <option value="comrade">9. Fallen Comrade</option>
                </select>
            <textarea class="tall-margin" id="secondTextarea" placeholder="Describe the Individual by answering these 3 questions:

            1. Who are they?
            2. What do they look like?
            3. How did they impact your life?"></textarea>
            </div>

            <div class="form-group">
                <select id="location" required>
                    <option value="" disabled selected>Select a Location</option>
                    <option value="hometown">1. My Hometown</option>
                    <option value="mountains">2. The Mountains</option>
                    <option value="haunt">3. A Childhood Haunt</option>
                    <option value="cabin">4. A Secluded Cabin</option>
                    <option value="estate">5. My Family Estate</option>
                    <option value="forest">6. An Isolated Forest</option>
                    <option value="cave">7. A Hidden Cave</option>
                    <option value="refuge">8. A Secret Refuge</option>
                    <option value="beach">9. A Deserted Beach</option>
                    <option value="school">10. An Old School</option>
                </select>
            <textarea class="tall-margin" id="locationTextarea" placeholder="Describe this Location by answering these 3 questions:

            1. What memories or emotions does this place stir within you?
            2. What unique features or landmarks make this place special?
            3. Does this place still exist as you remember it, or has it changed?"></textarea>
            </div>

            <div class="form-group">
                <select id="ideal" required>
                    <option value="" disabled selected>Select an Ideal</option>
                    <option value="protect">1. Protect the Vulnerable</option>
                    <option value="justice">2. Uphold Justice</option>
                    <option value="innocence">3. Preserve Innocence</option>
                    <option value="redemption">4. Seek Redemption</option>
                    <option value="hope">5. Inspire Hope</option>
                    <option value="defend">6. Defend the Voiceless</option>
                    <option value="unity">7. Foster Unity</option>
                    <option value="truth">8. Unearth Hidden Truths</option>
                    <option value="heal">9. Heal the Weak</option>
                    <option value="philosophy">10. Spread a Philosophy</option>
                </select>
            <textarea class="tall-margin" id="idealsTextarea" placeholder="Describe your Ideal by answering these 3 questions:

            1. How did you first discover this was your core belief?
            2. What actions do you take to demonstrate this ideal daily?
            3. What price have you paid to stay true to this conviction?"></textarea>

            <hr class="subsection-break">
            </div>
            </div>
           
             <div class="subsection-title">Wish</div>
            <div class="form-group">
                <select id="wish" required>
                    <option value="" disabled selected>Select your Wish</option>
                    <option value="redeem">Redeem My Past Mistakes: Your Gloomstalker seeks to make amends for a grievous error they once committed.</option>
                    <option value="uncover">Uncover the Truth: Your Gloomstalker is determined to uncover hidden secrets or long-buried truths, no matter the cost.</option>
                    <option value="protect">Protect My Loved Ones: Your Gloomstalker's greatest desire is to ensure the safety and well-being of their cherished family or friends.</option>
                    <option value="justice">Bring Justice to the Wicked: Your Gloomstalker is driven by a sense of justice, aiming to right the wrongs committed by those who evade retribution.</option>
                    <option value="peace">Find Inner Peace: Your Gloomstalker seeks tranquility and harmony within themselves, aiming to overcome personal turmoil.</option>
                    <option value="master">Master the Whispers of Power: Your Gloomstalker is determined to unlock the full potential of the mysterious "Whispers of Power" that permeate Pyresh.</option>
                    <option value="discover">Discover the Origin of the Gloom: Your Gloomstalker yearns to trace the origins of the enigmatic Rust-Hued Gloom that shrouds Pyresh.</option>
                    <option value="save">Save Pyresh from Desolation: Your Gloomstalker's Wish is to protect Pyresh from the impending doom that threatens it.</option>
                    <option value="find">Find a Lost Loved One: Your Gloomstalker longs to reunite with a lost friend, family member, or lover.</option>
                    <option value="legendary">Become a Legendary Hero: Your Gloomstalker aspires to achieve legendary status and be remembered throughout Pyresh's history.</option>
                </select>
            <hr class="subsection-break">
            </div>

            <h2 class="section-title skills">Path Abilities</h2>
            <div class="form-group">
                <label for="path">Penumbral Path:</label>
                <select id="path" required>
                    <option value="soiledHands">Path of the Soiled Hands</option>
                    <option value="mutedSibilance">Path of the Muted Sibilance</option>
                    <option value="sanguineBoot">Path of the Sanguine Boot</option>
                    <option value="tranquilCountenance">Path of the Tranquil Countenance</option>
                    <option value="penetratingIris">Path of the Penetrating Iris</option>
                </select>
            </div>

            <div class="form-group">
                <div id="pathDescription" class="path-description"></div>
            </div>

            <div class="form-group">
                <label>Character Path Description (Click on images to see full pages):</label>
                <div class="image-container">
                    <div class="image-wrapper">
                        <img id="pathImage" src="" alt="Path illustration will appear here" onclick="openFullscreen(this)">
                    </div>
                    <div class="image-wrapper">
                        <img id="skillImage" src="" alt="Skill illustration will appear here" onclick="openFullscreen(this)">
                    </div>
                </div>
            </div>

            <div id="skills">
                <p>Select your starting skills based on the chosen path:</p>
                <div class="form-group">
                    <label for="majorSkill">Major Skill (Rank 3):</label>
                    <input type="text" id="majorSkill" readonly>
                </div>

                <div class="form-group">
                    <label for="minorSkill">Minor Skill (Rank 4):</label>
                    <select id="minorSkill" required>
                        <option value="" disabled selected>Choose a minor skill</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Other Skills (Rank 5):</label>
                    <p>All skills not selected as Major/Minor default to Rank 5.</p>
            <hr class="subsection-break">
                </div>

                <div class="form-group">
                    <h3>Gloomtide Surge Bonus</h3>
                    <select id="surgeBonus" required>
                        <option value="" disabled selected>Choose your Surge Bonus</option>
                    </select>
                    <div id="surgeBonusDescription" class="description-box" style="display: none;"></div>
            <hr class="subsection-break">
                </div>
            <div class="form-group">
                <h3>Path Abilities</h3>
    
                 <div class="ability-selection">
                    <select id="pathAbility1" required>
                        <option value="" disabled selected>Choose your first ability</option>
                    </select>
                    <div id="pathAbility1Description" class="description-box" style="display: none;"></div>
                </div>

                <div id="secondAbilityContainer" class="ability-selection">
                    <select id="pathAbility2" required>
                        <option value="" disabled selected>Choose your second ability</option>
                    </select>
                    <div id="pathAbility2Description" class="description-box" style="display: none;"></div>
            <hr class="subsection-break">
                </div>
            </div>

            <h2 class="section-title equipment">Armament Selection</h2>
            <div class="form-group">
                <div class="armament-intro">
                    <select id="armamentType" required>
                        <option value="" disabled selected>Select Armament Type</option>
                        <option value="ranged">Ranged Armament</option>
                        <option value="melee">Melee Armament</option>
                    </select>
            <div id="armamentTypeDescription" class="description-box" style="display: none;"></div>
                </div>

                <div id="abilitiesSection" style="display: none;">
                    <h3>Select Armament Ability</h3>
                    <select id="armamentAbility" required>
                        <option value="" disabled selected>Select an Ability</option>
                    </select>
                    <div id="armamentAbilityDescription" class="path-description"></div>
                </div>

                <div class="form-group">
                    <label for="armamentDescription">Describe Your Armament:</label>
                    <textarea class="tall-margin" id="armamentDescription" placeholder="Describe your Armament's appearance, materials, and unique characteristics that reflect your character's combat style."></textarea>
                </div>
            </div>



            <h2 class="section-title notes">Shroud Selection</h2>
            <div class="form-group">
                <div class="shroud-intro">
                    <select id="shroudType" required>
                        <option value="" disabled selected>Select Shroud Type</option>
                        <option value="nimble">Nimble Shroud</option>
                        <option value="balanced">Balanced Shroud</option>
                        <option value="bulky">Bulky Shroud</option>
                    </select>
                </div>

                <div id="shroudStats" class="path-description" style="display: none;">
                    <p id="movementStat"></p>
                    <p id="cwtStat"></p>
                </div>

                <div id="shroudAbilitiesSection" style="display: none;">
                    <h3>Select Shroud Ability</h3>
                    <select id="shroudAbility" required>
                        <option value="" disabled selected>Select an Ability</option>
                    </select>
                    <div id="shroudAbilityDescription" class="path-description"></div>
                </div>

                <div class="form-group">
                    <label for="shroudDescription">Describe Your Shroud:</label>
                    <textarea class="tall-margin" id="shroudDescription" placeholder="Describe your Shroud's appearance, materials, and unique characteristics that reflect your character's identity and survival strategy."></textarea>
                </div>
            </div>

            <h2 class="section-title">Export</h2>
            <div class="form-group">
                <button type="button" onclick="exportCharacter()">Export Character</button>
                <input type="file" id="importFile" style="display: none;" accept=".json">
        </form>
    </div>
    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>

